<!DOCTYPE html>
<html lang="en">
 <head>
    <meta name="monetag" content="e2299314c6b78b379d7dd1c1850d42de">
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Earning Guru Nepal - Pro</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />

    <style>
      :root {
        --primary: #6c63ff;
        --secondary: #2a2d3e;
        --accent: #00e676;
        --bg-dark: #121212;
        --card-bg: rgba(42, 45, 62, 0.8);
        --text-light: #ffffff;
        --text-gray: #b0b0b0;
        --gold: #ffd700;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: "Poppins", sans-serif;
        -webkit-tap-highlight-color: transparent;
      }
      body {
        background-color: var(--bg-dark);
        background-image: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
        color: var(--text-light);
        height: 100vh;
        overflow: hidden;
        position: relative;
      }

      /* Loader */
      #loader {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: var(--bg-dark);
        z-index: 9999;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
      }
      .spinner {
        width: 50px;
        height: 50px;
        border: 5px solid var(--primary);
        border-top: 5px solid transparent;
        border-radius: 50%;
        animation: spin 1s linear infinite;
        margin-bottom: 15px;
      }
      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 15px 20px;
        background: rgba(26, 26, 46, 0.95);
        backdrop-filter: blur(10px);
        position: fixed;
        top: 0;
        width: 100%;
        z-index: 100;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
      }
      .user-balance-display {
        background: rgba(255, 255, 255, 0.1);
        padding: 6px 12px;
        border-radius: 20px;
        font-size: 0.9rem;
        border: 1px solid rgba(0, 230, 118, 0.3);
      }

      main {
        height: 100vh;
        overflow-y: auto;
        padding: 80px 20px 100px 20px;
      }
      section {
        display: none;
        animation: fadeIn 0.4s ease;
      }
      section.active-section {
        display: block;
      }
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .banner {
        background: linear-gradient(45deg, var(--primary), #8e2de2);
        padding: 25px;
        border-radius: 20px;
        text-align: center;
        margin-bottom: 25px;
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
      }
      .grid-menu {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 15px;
      }
      .menu-item {
        background: var(--card-bg);
        padding: 20px;
        border-radius: 15px;
        text-align: center;
        cursor: pointer;
        border: 1px solid rgba(255, 255, 255, 0.05);
        transition: 0.3s;
      }
      .menu-item:active {
        transform: scale(0.95);
        background: rgba(255, 255, 255, 0.1);
      }

      .plan-card {
        background: var(--card-bg);
        border: 1px solid rgba(255, 255, 255, 0.1);
        padding: 15px;
        border-radius: 15px;
        margin-bottom: 15px;
      }
      .btn-invest,
      .btn-action {
        width: 100%;
        padding: 14px;
        background: var(--primary);
        border: none;
        color: white;
        border-radius: 10px;
        font-weight: 600;
        cursor: pointer;
        margin-top: 10px;
      }
      .btn-action {
        background: var(--accent);
        color: #000;
      }

      .task-card {
        display: flex;
        align-items: center;
        justify-content: space-between;
        background: var(--card-bg);
        padding: 15px;
        border-radius: 15px;
        margin-bottom: 12px;
      }
      .btn-task {
        padding: 8px 16px;
        background: var(--accent);
        border: none;
        border-radius: 20px;
        font-weight: 600;
        cursor: pointer;
      }

      /* Wallet */
      .wallet-tabs {
        display: flex;
        gap: 10px;
        margin-bottom: 20px;
        background: rgba(0, 0, 0, 0.2);
        padding: 5px;
        border-radius: 10px;
      }
      .tab-btn {
        flex: 1;
        padding: 10px;
        background: transparent;
        border: none;
        color: var(--text-gray);
        cursor: pointer;
        border-radius: 8px;
      }
      .tab-btn.active {
        background: var(--primary);
        color: white;
      }

      input,
      select {
        width: 100%;
        padding: 14px;
        margin-bottom: 12px;
        background: #1f2233;
        border: 1px solid #333;
        border-radius: 10px;
        color: white;
        outline: none;
      }

      .history-box {
        margin-top: 20px;
        background: rgba(0, 0, 0, 0.2);
        padding: 15px;
        border-radius: 15px;
      }
      .history-item {
        display: flex;
        justify-content: space-between;
        padding: 10px 0;
        border-bottom: 1px solid #333;
        font-size: 0.8rem;
      }

      /* Bottom Nav */
      .bottom-nav {
        position: fixed;
        bottom: 0;
        width: 100%;
        background: #202336;
        display: flex;
        justify-content: space-around;
        padding: 12px 0;
        border-top: 1px solid #333;
        z-index: 99;
      }
      .nav-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        color: #666;
        font-size: 0.7rem;
        cursor: pointer;
      }
      .nav-item.active {
        color: var(--accent);
      }

      /* Modals */
      .modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.85);
        z-index: 200;
        align-items: center;
        justify-content: center;
      }
      .modal-content {
        background: #2a2d3e;
        padding: 25px;
        border-radius: 20px;
        text-align: center;
        width: 85%;
        max-width: 350px;
        position: relative;
      }
      .close-modal {
        position: absolute;
        top: 10px;
        right: 15px;
        font-size: 1.8rem;
        cursor: pointer;
        color: #aaa;
      }

      #toast {
        visibility: hidden;
        min-width: 250px;
        background-color: #333;
        color: #fff;
        text-align: center;
        border-radius: 50px;
        padding: 16px;
        position: fixed;
        z-index: 1000;
        bottom: 90px;
        left: 50%;
        transform: translateX(-50%);
      }
      #toast.show {
        visibility: visible;
        animation: fadein 0.5s, fadeout 0.5s 2.5s;
      }
      @keyframes fadein {
        from {
          bottom: 50px;
          opacity: 0;
        }
        to {
          bottom: 90px;
          opacity: 1;
        }
      }
      @keyframes fadeout {
        from {
          bottom: 90px;
          opacity: 1;
        }
        to {
          bottom: 50px;
          opacity: 0;
        }
      }
    </style>
  </head>
  <body>
    <div id="loader">
      <div class="spinner"></div>
      <p style="color: white; letter-spacing: 2px">EARNING GURU NP</p>
    </div>

    <header>
      <div style="font-weight: 700; font-size: 1.1rem">
        EARN GURU <span style="color: var(--accent)">NP</span>
      </div>
      <div class="user-balance-display">
        NRS <span id="header-balance">0.00</span>
      </div>
    </header>

    <main>
      <section id="home" class="active-section">
        <div class="banner">
          <p style="font-size: 0.8rem; opacity: 0.8">Available Balance</p>
          <h1 style="font-size: 2.5rem; margin: 5px 0">
            NRS <span id="main-balance">0.00</span>
          </h1>
          <button
            class="btn-action"
            style="width: auto; padding: 8px 20px; font-size: 0.8rem"
            onclick="navTo('wallet')"
          >
            MANAGE WALLET
          </button>
        </div>
        <div class="grid-menu">
          <div class="menu-item" onclick="navTo('invest')">
            <i
              class="fas fa-rocket"
              style="
                color: var(--primary);
                font-size: 1.5rem;
                margin-bottom: 8px;
              "
            ></i
            ><br />Invest
          </div>
          <div class="menu-item" onclick="navTo('task')">
            <i
              class="fas fa-coins"
              style="color: var(--gold); font-size: 1.5rem; margin-bottom: 8px"
            ></i
            ><br />Tasks
          </div>
          <div class="menu-item" onclick="navTo('games')">
            <i
              class="fas fa-gamepad"
              style="color: #ff5252; font-size: 1.5rem; margin-bottom: 8px"
            ></i
            ><br />Games
          </div>
          <div class="menu-item" onclick="shareApp()">
            <i
              class="fab fa-facebook-messenger"
              style="color: #0084ff; font-size: 1.5rem; margin-bottom: 8px"
            ></i
            ><br />Share
          </div>
        </div>
      </section>

      <section id="invest">
        <h2 style="margin-bottom: 15px">Investment Plans</h2>
        <div id="plans-list"></div>
      </section>

      <section id="task">
        <h2 style="margin-bottom: 15px">Daily Earnings</h2>
        <div class="task-card">
          <div>
            <h4>Daily Scratch</h4>
            <p>Win up to Rs 10</p>
          </div>
          <button class="btn-task" onclick="openScratchModal()">Play</button>
        </div>
        <div class="task-card">
          <div>
            <h4>Watch Video</h4>
            <p>Earn Rs 5</p>
          </div>
          <button class="btn-task" onclick="watchAd()">Watch</button>
        </div>
      </section>

      <section id="games">
        <h2 style="margin-bottom: 15px">Premium Games</h2>
        <div class="plan-card" style="text-align: center; padding: 40px 20px">
          <i class="fas fa-lock" style="font-size: 3rem; color: #ff5252"></i>
          <p
            style="margin-top: 20px; font-size: 0.9rem; color: var(--text-gray)"
          >
            Premium Games are locked.<br />Please deposit <b>NRS 100</b> or more
            to unlock Math Quiz and Ludo.
          </p>
          <button class="btn-invest" onclick="navTo('wallet')">
            Deposit Now
          </button>
        </div>
      </section>

      <section id="wallet">
        <div class="wallet-tabs">
          <button class="tab-btn active" onclick="switchWalletTab('deposit')">
            Deposit
          </button>
          <button class="tab-btn" onclick="switchWalletTab('withdraw')">
            Withdraw
          </button>
        </div>

        <div id="deposit-view">
          <div
            style="
              background: white;
              padding: 15px;
              border-radius: 10px;
              text-align: center;
              color: black;
              margin-bottom: 20px;
            "
          >
            <p style="font-weight: bold; font-size: 0.8rem; margin-bottom: 5px">
              OFFICIAL MERCHANT QR
            </p>
            <img src="qr.jpg" style="width: 130px" />
            <p style="font-size: 0.7rem; margin-top: 5px; color: #555">
              Scan & Pay manually, then submit details.
            </p>
          </div>
          <form id="deposit-form">
            <input type="text" id="dep-name" placeholder="Full Name" required />
            <input
              type="number"
              id="dep-number"
              placeholder="Your Mobile Number"
              required
            />
            <input
              type="number"
              id="dep-amount"
              placeholder="Amount (NRS)"
              required
            />
            <button type="submit" class="btn-action">Submit Request</button>
          </form>
          <div class="history-box">
            <h4>Recent Deposit Requests</h4>
            <div id="deposit-history" style="margin-top: 10px"></div>
          </div>
        </div>

        <div id="withdraw-view" style="display: none">
          <input
            type="number"
            id="withdraw-amount"
            placeholder="Min. Withdraw 300"
          />
          <select id="withdraw-method">
            <option>eSewa</option>
            <option>Khalti</option>
          </select>
          <input type="number" placeholder="Wallet ID (98XXXXXXXX)" />
          <button
            class="btn-action"
            style="background: #ff5252; color: white"
            onclick="handleWithdraw()"
          >
            Withdraw NRS
          </button>
          <div class="history-box">
            <h4>Withdraw History</h4>
            <div id="withdraw-history" style="margin-top: 10px"></div>
          </div>
        </div>
      </section>
    </main>

    <nav class="bottom-nav">
      <div class="nav-item active" onclick="switchTab('home')">
        <i class="fas fa-home"></i><span>Home</span>
      </div>
      <div class="nav-item" onclick="switchTab('invest')">
        <i class="fas fa-bolt"></i><span>Invest</span>
      </div>
      <div class="nav-item" onclick="switchTab('task')">
        <i class="fas fa-check-circle"></i><span>Task</span>
      </div>
      <div class="nav-item" onclick="switchTab('wallet')">
        <i class="fas fa-wallet"></i><span>Wallet</span>
      </div>
    </nav>

    <div id="scratch-modal" class="modal">
      <div class="modal-content">
        <span class="close-modal" onclick="closeModal('scratch-modal')"
          >&times;</span
        >
        <h3>Daily Scratch Card</h3>
        <div
          style="
            height: 120px;
            background: linear-gradient(45deg, #555, #888);
            border: 2px dashed #aaa;
            border-radius: 15px;
            margin: 20px 0;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
          "
          onclick="finishScratch()"
        >
          <p id="scratch-text" style="font-weight: bold; color: white">
            TAP TO SCRATCH
          </p>
        </div>
        <p style="font-size: 0.7rem; color: #aaa">
          You can win between NRS 1 to 10.
        </p>
      </div>
    </div>

    <div id="toast">Message</div>

    <script>
      let user = {
        balance: 50,
        totalDeposited: 0,
        depositRequests: [],
        withdrawHistory: [],
        scratchDone: false,
      };

      const plansData = [
        { id: 1, cost: 100, daily: 20, total: 140 },
        { id: 2, cost: 500, daily: 110, total: 770 },
        { id: 3, cost: 1000, daily: 250, total: 1750 },
      ];

      window.onload = function () {
        setTimeout(() => {
          document.getElementById("loader").style.display = "none";
        }, 1200);
        loadData();
        renderPlans();
        updateUI();
      };

      function loadData() {
        const saved = localStorage.getItem("guru_data_v2");
        if (saved) user = JSON.parse(saved);
      }

      function saveData() {
        localStorage.setItem("guru_data_v2", JSON.stringify(user));
        updateUI();
      }

      function updateUI() {
        document.getElementById("header-balance").innerText =
          user.balance.toFixed(2);
        document.getElementById("main-balance").innerText =
          user.balance.toFixed(2);
        renderHistory();
      }

      function switchTab(id) {
        document
          .querySelectorAll("section")
          .forEach((s) => s.classList.remove("active-section"));
        document.getElementById(id).classList.add("active-section");
        document
          .querySelectorAll(".nav-item")
          .forEach((i) => i.classList.remove("active"));

        // Match nav highlighting
        const navs = document.querySelectorAll(".nav-item");
        const ids = ["home", "invest", "task", "wallet"];
        const index = ids.indexOf(id);
        if (index !== -1) navs[index].classList.add("active");
      }

      function navTo(id) {
        switchTab(id);
      }

      function renderPlans() {
        const list = document.getElementById("plans-list");
        list.innerHTML = "";
        plansData.forEach((p) => {
          list.innerHTML += `<div class="plan-card">
            <div style="display:flex; justify-content:space-between;"><b>PLAN NRS ${p.cost}</b> <span style="color:var(--accent)">7 Days</span></div>
            <p style="font-size:0.8rem; color:#aaa; margin:8px 0;">Daily Income: NRS ${p.daily} <br> Total Return: NRS ${p.total}</p>
            <button class="btn-invest" onclick="buyPlan(${p.cost})">Invest Now</button>
          </div>`;
        });
      }

      function buyPlan(cost) {
        if (user.balance >= cost) {
          user.balance -= cost;
          saveData();
          showToast("Plan Purchased! Income added daily.");
        } else {
          showToast("Insufficient Balance!");
        }
      }

      // DEPOSIT LOGIC
      document
        .getElementById("deposit-form")
        .addEventListener("submit", function (e) {
          e.preventDefault();
          const name = document.getElementById("dep-name").value;
          const num = document.getElementById("dep-number").value;
          const amt = document.getElementById("dep-amount").value;

          user.depositRequests.push({
            date: new Date().toLocaleDateString(),
            amount: amt,
            number: num,
            status: "Pending",
          });
          saveData();
          showToast("Request Sent! Admin will verify soon.");
          this.reset();
        });

      function handleWithdraw() {
        const amt = document.getElementById("withdraw-amount").value;
        if (amt >= 300 && user.balance >= amt) {
          user.balance -= amt;
          user.withdrawHistory.push({
            date: new Date().toLocaleDateString(),
            amount: amt,
            status: "Pending",
          });
          saveData();
          showToast("Withdrawal Requested!");
        } else {
          showToast("Min 300 & Check Balance!");
        }
      }

      function renderHistory() {
        const depList = document.getElementById("deposit-history");
        const withList = document.getElementById("withdraw-history");

        depList.innerHTML = user.depositRequests.length
          ? ""
          : "<p style='font-size:0.7rem; color:#666;'>No history.</p>";
        user.depositRequests
          .slice()
          .reverse()
          .forEach((r) => {
            depList.innerHTML += `<div class="history-item">
            <span>${r.date} - NRS ${r.amount}</span>
            <span style="color:orange; font-weight:bold;">${r.status}</span>
          </div>`;
          });

        withList.innerHTML = user.withdrawHistory.length
          ? ""
          : "<p style='font-size:0.7rem; color:#666;'>No history.</p>";
        user.withdrawHistory
          .slice()
          .reverse()
          .forEach((w) => {
            withList.innerHTML += `<div class="history-item">
            <span>${w.date} - NRS ${w.amount}</span>
            <span style="color:orange; font-weight:bold;">${w.status}</span>
          </div>`;
          });
      }

      function switchWalletTab(type) {
        document.getElementById("deposit-view").style.display =
          type === "deposit" ? "block" : "none";
        document.getElementById("withdraw-view").style.display =
          type === "withdraw" ? "block" : "none";
        document.querySelectorAll(".tab-btn").forEach((b, i) => {
          b.classList.toggle(
            "active",
            (type === "deposit" && i === 0) || (type === "withdraw" && i === 1)
          );
        });
      }

      function watchAd() {
        showToast("Playing Ad...");
        setTimeout(() => {
          user.balance += 5;
          saveData();
          showToast("Reward: Rs 5 Added!");
        }, 2500);
      }

      function openScratchModal() {
        document.getElementById("scratch-modal").style.display = "flex";
      }
      function closeModal(id) {
        document.getElementById(id).style.display = "none";
      }

      function finishScratch() {
        const win = Math.floor(Math.random() * 9) + 2;
        user.balance += win;
        saveData();
        showToast("You won NRS " + win + "!");
        closeModal("scratch-modal");
      }

      // FIXED SHARE FUNCTION
      function shareApp() {
        const shareData = {
          title: "Earn Guru Nepal",
          text: "Join Earning Guru Nepal and earn NRS 500+ daily from home! Join now:",
          url: "https://earngurunp.com/join", // Replace with your real URL
        };

        if (navigator.share) {
          // Opens Native Mobile Share Menu (Messenger is here)
          navigator
            .share(shareData)
            .then(() => showToast("Thanks for sharing!"))
            .catch((err) => console.log("Share failed", err));
        } else {
          // Fallback specifically for Facebook Messenger box
          const messengerUrl =
            "fb-messenger://share/?link=" + encodeURIComponent(shareData.url);
          const fbUrl =
            "https://www.facebook.com/sharer/sharer.php?u=" +
            encodeURIComponent(shareData.url);

          showToast("Redirecting to Messenger...");
          window.open(messengerUrl, "_blank");

          // If messenger doesn't open in 1 second, open FB web sharer
          setTimeout(() => {
            window.open(fbUrl, "_blank");
          }, 1000);
        }
      }

      function showToast(msg) {
        const t = document.getElementById("toast");
        t.innerText = msg;
        t.className = "show";
        setTimeout(() => {
          t.className = "";
        }, 3000);
      }
    </script>
  </body>
</html>



